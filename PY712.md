## Definición de 7 consultas agregadas que extraigan información, las cuales deben utilizar combinaciones de tablas (ya sean internas o externas) y/o filtrado.

### 1. Total de compras realizadas por cada cliente. (Jessica Brotons)
```sql
SELECT c.idCliente, c.nombre, c.apellido1, c.apellido2, COUNT(co.numCompra) AS total_compras
FROM CLIENTE c
JOIN COMPRA co ON c.idCliente = co.idCliente
GROUP BY c.idCliente, c.nombre, c.apellido1, c.apellido2

<img width="387" alt="Consulta1" src="https://github.com/user-attachments/assets/ba00d7c6-2e56-4a31-b189-a406fe4d6aa6" />

### 2. Productos que no han sido vendidos nunca. (Jessica Brotons)
```sql
SELECT p.nombre AS producto
FROM PRODUCTO p
LEFT JOIN LINEA_DE_TICKET lt ON p.codigo = lt.codProducto
WHERE lt.codProducto IS NULL;

### 3. Clientes con la cantidad total de productos que ha comprado, ordenando de mayor a menor. (Jessica Brotons)
```sql
SELECT c.idCliente, c.nombre, c.apellido1, c.apellido2, SUM(lt.cantidad) AS total_productos
FROM CLIENTE c
JOIN COMPRA co ON c.idCliente = co.idCliente
JOIN LINEA_DE_TICKET lt ON co.numCompra = lt.numCompra
GROUP BY c.idCliente, c.idCliente, c.nombre, c.apellido1, c.apellido2
ORDER BY total_productos DESC;


### 4.Lista el nombre y DNI del empleado así y como de su encarado (incluyendo también los que no tienen encargado). (Vanesa Sekeresh)
```sql
select e.dni, e.nombre, e1.dni, e1.nombre from EMPLEADO e
left join EMPLEADO e1 on e1.dni=e.encargado;

![imagen](https://github.com/user-attachments/assets/05e684aa-d95f-4186-b001-75d0da62bb96)


### 5.Obten los clientes (y sus teléfonos) que realizaron su compra el día 2024-01-01 y su apellido empiece por G. (Vanesa Sekeresh)
```sql
select c.nombre, c.apellido1, t.numTelefono, co.fecha
from CLIENTE c join TELEFONO t on t.idCliente=c.idCliente
join COMPRA co on c.idCliente=co.idCliente
group by c.nombre, c.apellido1, t.numTelefono, co.fecha
HAVING co.fecha ='2024-01-01' AND c.apellido1 LIKE 'G%';

![imagen](https://github.com/user-attachments/assets/ec609a67-8c2b-4ac9-90c1-f84baf0653fa)



## Creación de 1 consulta que utilice funciones ventana.

## Creación de 2 vistas sobre alguna de las consultas ya definidas.

### 1. Vista sobre la consulta (Clientes con la cantidad total de productos que ha comprado, ordenando de mayor a menor.) (Jessica Brotons)
```sql
CREATE VIEW Clientes_Total_Productos AS
SELECT c.idCliente, c.nombre, c.apellido1, c.apellido2, SUM(lt.cantidad) AS total_productos
FROM CLIENTE c
JOIN COMPRA co ON c.idCliente = co.idCliente
JOIN LINEA_DE_TICKET lt ON co.numCompra = lt.numCompra
GROUP BY c.idCliente, c.nombre, c.apellido1, c.apellido2
ORDER BY total_productos DESC;


### 2. Vista sobre la consulta (Clientes (y sus teléfonos) que realizaron su compra el día 2024-01-01 y su apellido empiece por G).(Vanesa Sekeresh)
```sql
CREATE VIEW ClienteCompra AS
SELECT c.nombre, c.apellido1, t.numTelefono, co.fecha
FROM CLIENTE c
JOIN TELEFONO t ON t.idCliente = c.idCliente
JOIN COMPRA co ON c.idCliente = co.idCliente
GROUP BY c.nombre, c.apellido1, t.numTelefono, co.fecha
HAVING co.fecha = '2024-01-01' AND c.apellido1 LIKE 'G%';

![imagen](https://github.com/user-attachments/assets/b142e0bb-848d-47c0-a8ab-256307594700)


